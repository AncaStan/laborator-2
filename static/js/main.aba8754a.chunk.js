(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){e.exports=a(294)},129:function(e,t,a){},130:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(17),r=a.n(i),o=a(34),l=a(30),s=(a(129),a(18)),u=a(19),p=a(21),h=a(20),m=a(22),d=(a(130),a(43),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).handleClick=function(e){a.props.history.push(e)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"page-container"},c.a.createElement("p",{className:"page-title"},"Welcome to e-Health - Laboratory 2 -"),c.a.createElement("div",{className:"menu-container"},c.a.createElement("button",{className:"option-container blue",onClick:function(){return e.handleClick("/patients")}},c.a.createElement("i",{className:"icon fas fa-users"}),"Patients"),c.a.createElement("button",{className:"option-container red",onClick:function(){return e.handleClick("/medication")}},c.a.createElement("i",{className:"icon fas fa-capsules"}),"Medication")))}}]),t}(n.Component)),g=Object(l.d)(d),f=a(28),b=a.n(f),E=a(54),v=a(118),y=a.n(v),P=a(119),C=a.n(P),O=a(120),j=a.n(O),k=a(25),N=a.n(k),w=a(122),D=a.n(w),A=a(123),I=a.n(A),M=a(42),S=a.n(M),x=a(68),B=a.n(x),T=a(36),F=a.n(T),L=a(71),_=a.n(L),W=a(73),R=a.n(W),z=a(72),H=a.n(z),J=a(70),q=a.n(J),G=a(121),U=a.n(G),X=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,i=e.rowsPerPage,r=e.theme;return c.a.createElement("div",{className:t.root},c.a.createElement(F.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===r.direction?c.a.createElement(q.a,null):c.a.createElement(_.a,null)),c.a.createElement(F.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===r.direction?c.a.createElement(H.a,null):c.a.createElement(R.a,null)),c.a.createElement(F.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Next Page"},"rtl"===r.direction?c.a.createElement(R.a,null):c.a.createElement(H.a,null)),c.a.createElement(F.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Last Page"},"rtl"===r.direction?c.a.createElement(_.a,null):c.a.createElement(q.a,null)))}}]),t}(n.Component),K=Object(E.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(X),Q=Object(E.withStyles)(function(e){return{head:{backgroundColor:"#FF5722",color:e.palette.common.white},body:{fontSize:14}}})(N.a),V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={page:0,rowsPerPage:10},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.page,i=this.props,r=i.classes,o=i.items,l=i.columns,s=a-Math.min(a,o.length-n*a);return console.log(o),c.a.createElement(B.a,{className:r.root},c.a.createElement("div",{className:r.tableWrapper},c.a.createElement(y.a,{className:r.table},c.a.createElement(C.a,null,c.a.createElement(S.a,null,l.map(function(e,t){return c.a.createElement(Q,{key:t},e)}))),c.a.createElement(j.a,null,o.slice(n*a,n*a+a).map(function(t){return c.a.createElement(S.a,{key:t.id},t.id&&c.a.createElement(N.a,{component:"th",scope:"row"},t.id),t.fullname&&c.a.createElement(N.a,{align:"left"},t.fullname),t.birthDate&&c.a.createElement(N.a,{align:"left"},t.birthDate),t.gender&&c.a.createElement(N.a,{align:"left"},t.gender),t.fullname&&c.a.createElement(N.a,null,c.a.createElement(U.a,{color:"primary",size:"small",className:r.button,onClick:function(){return e.props.handleClick(t.id)}},"More information")),t.name&&c.a.createElement(N.a,{align:"left"},t.name),t.isAntibiotic&&c.a.createElement(N.a,{align:"left"},t.isAntibiotic))}),s>0&&c.a.createElement(S.a,{style:{height:48*s}},c.a.createElement(N.a,{colSpan:6}))),c.a.createElement(D.a,null,c.a.createElement(S.a,null,c.a.createElement(I.a,{rowsPerPageOptions:[10],count:o.length,rowsPerPage:a,page:n,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:K}))))))}}]),t}(n.Component),Y=Object(E.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:500},tableWrapper:{overflowX:"auto"},button:{margin:e.spacing.unit}}})(V),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).fetchPatients=function(){b.a.get("https://hapi.fhir.org/baseDstu3/Patient?_pretty=true&_count=50").then(function(e){for(var t=e.data.entry,n=[],c=0;c<t.length;c++){var i={id:"-",fullname:"-",birthDate:"-",gender:"-"};if(t[c].resource&&(t[c].resource.id&&(i.id=t[c].resource.id),t[c].resource.gender&&(i.gender=t[c].resource.gender),t[c].resource.birthDate&&(i.birthDate=t[c].resource.birthDate),t[c].resource.name&&t[c].resource.name.length>0)){var r="-";t[c].resource.name[0].family&&(r=t[c].resource.name[0].family),t[c].resource.name[0].given&&t[c].resource.name[0].given.length>0&&(r=r+" "+t[c].resource.name[0].given[0]),i.fullname=r}n.push(i)}a.setState({patients:n,filteredData:n},function(){console.log(a.state.patients)})}).catch(function(e){console.log("Patients page error: "+e)})},a.handleClick=function(e){a.props.history.push({pathname:"/patient-details",state:{patientId:e}})},a.handleChange=function(e){var t=e.target.value;a.setState(function(e){var a=e.patients.filter(function(e){return e.id.startsWith(t)});return{query:t,filteredData:a}})},a.state={searchText:"",patients:[],filteredData:[]},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchPatients()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"page-container"},c.a.createElement("p",{className:"page-title"},c.a.createElement("i",{className:"icon fas fa-users"}),"Patients"),c.a.createElement("div",null,c.a.createElement("input",{className:"input-container",placeholder:"PATIENT ID",value:this.state.value,onChange:function(t){return e.handleChange(t)}}),c.a.createElement(Y,{items:this.state.filteredData,columns:["PATIENT ID","FULL NAME","BIRTHDATE","GENDER",""],handleClick:this.handleClick})))}}]),t}(n.Component),$=Object(l.d)(Z),ee=a(55),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).fetchEncounters=function(){b.a.get("https://hapi.fhir.org/baseDstu3/Encounter?_pretty=true&patient=".concat(a.patientId)).then(function(e){var t=e.data;t.reason&&t.reason.length>0&&a.setState(Object(ee.a)({},a.state,{encounters:t.reason[0].text}))}).catch(function(e){console.log("Patients page error: "+e)})},a.fetchCarePlan=function(){b.a.get("https://hapi.fhir.org/baseDstu3/CarePlan?_pretty=true&patient=".concat(a.patientId)).then(function(e){var t=e.data,n="no category",c=[];if(t.category&&t.category.length>0&&t.category.coding&&t.category.coding.length>0&&t.category.coding[0].display&&(n=t.category.coding[0].display),t.activity&&t.activity.length>0)for(var i=0;i<t.activity.length;i++){var r=t.activity[i];r.detail&&r.detail.code&&r.detail.code.coding&&r.detail.code.coding.length>0&&r.detail.code.coding[0].display&&c.push(r.detail.code.coding[0].display)}a.setState(Object(ee.a)({},a.state,{carePlan:{category:n,activities:c}}))}).catch(function(e){console.log("Patients page error: "+e)})},a.fetchAppointment=function(){b.a.get("https://hapi.fhir.org/baseDstu3/Appointment?_pretty=true&patient=".concat(a.patientId)).then(function(e){var t=e.data,n="no description",c=[];if(t.description&&(n=t.description),t.participant&&t.participant.length>0)for(var i=0;i<t.participant.length;i++){var r=t.participant[i];r.actor&&r.actor.display&&c.push(r.actor.display)}a.setState(Object(ee.a)({},a.state,{appointment:{description:n,participants:c}}))}).catch(function(e){console.log("Patients page error: "+e)})},a.state={encouters:"",carePlan:"",appointment:""},a.patientId=a.props.history.location.state.patientId,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchEncounters(),this.fetchCarePlan(),this.fetchAppointment()}},{key:"render",value:function(){return c.a.createElement("div",{className:"page-container"},c.a.createElement("p",{className:"page-title"},c.a.createElement("i",{className:"icon fas fa-file-medical-alt"}),"Patient Details"),c.a.createElement("div",null,c.a.createElement("p",null,"Encounters: "+this.state.encounters),c.a.createElement("p",null,"CarePlan:"),c.a.createElement("p",null,"Appointment: ")))}}]),t}(n.Component),ae=Object(l.d)(te),ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).fetchMedication=function(){b.a.get("https://hapi.fhir.org/baseDstu3/Medication?_pretty=true&_count=50").then(function(e){for(var t=e.data.entry,n=[],c=0;c<t.length;c++){var i={};if(t[c].resource){if(t[c].resource.id&&(i.id=t[c].resource.id),i.isAntibiotic="false",t[c].resource.extension&&t[c].resource.extension.length>0&&t[c].resource.extension[0].url&&"isAntibiotic"===t[c].resource.extension[0].url&&(i.isAntibiotic="true"),i.name="-",t[c].resource.code&&t[c].resource.code.coding.length>0){var r=t[c].resource.code.coding.filter(function(e){return Object.keys(e).includes("display")});r.length>0&&(i.name=r[0].display)}console.log(i)}n.push(i)}a.setState({isFetched:!0,medication:n},function(){console.log(a.state.medication)})}).catch(function(e){console.log("Medication page error: "+e)})},a.state={medication:[],isFetched:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){console.log("component did mount"),this.fetchMedication()}},{key:"render",value:function(){return console.log("render"),c.a.createElement("div",{className:"page-container"},c.a.createElement("p",{className:"page-title"},c.a.createElement("i",{className:"icon fas fa-capsules"}),"Medication"),this.state.isFetched&&c.a.createElement("div",null,c.a.createElement(Y,{items:this.state.medication,columns:["MEDICATION ID","NAME","ANTIBIOTIC"]})))}}]),t}(n.Component),ce=Object(l.d)(ne),ie=c.a.createElement(o.a,null,c.a.createElement("div",null,c.a.createElement(l.a,{exact:!0,path:"/",component:g}),c.a.createElement(l.a,{path:"/patients",component:$}),c.a.createElement(l.a,{path:"/patient-details",component:ae}),c.a.createElement(l.a,{path:"/medication",component:ce})));r.a.render(ie,document.getElementById("root"))},43:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.aba8754a.chunk.js.map