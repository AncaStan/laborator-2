(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){e.exports=a(293)},129:function(e,t,a){},293:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(17),c=a.n(r),o=a(34),l=a(30),s=(a(129),a(18)),p=a(19),u=a(21),h=a(20),m=a(22),d=(a(43),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).handleClick=function(e){a.props.history.push(e)},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"page-container"},i.a.createElement("p",{className:"page-title"},"Welcome to e-Health - Lab. 2 -"),i.a.createElement("div",{className:"menu-container"},i.a.createElement("button",{className:"option-container blue",onClick:function(){return e.handleClick("/patients")}},i.a.createElement("i",{className:"icon fas fa-users"}),"Patients"),i.a.createElement("button",{className:"option-container red",onClick:function(){return e.handleClick("/medication")}},i.a.createElement("i",{className:"icon fas fa-capsules"}),"Medication")))}}]),t}(n.Component)),g=Object(l.d)(d),f=a(28),E=a.n(f),b=a(54),v=a(118),P=a.n(v),y=a(119),C=a.n(y),O=a(120),j=a.n(O),k=a(25),N=a.n(k),A=a(122),I=a.n(A),w=a(123),D=a.n(w),M=a(42),S=a.n(M),x=a(68),T=a.n(x),B=a(36),_=a.n(B),L=a(71),R=a.n(L),F=a(73),W=a.n(F),J=a(72),z=a.n(J),H=a(70),U=a.n(H),G=a(121),X=a.n(G),q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,r=e.rowsPerPage,c=e.theme;return i.a.createElement("div",{className:t.root},i.a.createElement(_.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===c.direction?i.a.createElement(U.a,null):i.a.createElement(R.a,null)),i.a.createElement(_.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===c.direction?i.a.createElement(z.a,null):i.a.createElement(W.a,null)),i.a.createElement(_.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/r)-1,"aria-label":"Next Page"},"rtl"===c.direction?i.a.createElement(W.a,null):i.a.createElement(z.a,null)),i.a.createElement(_.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/r)-1,"aria-label":"Last Page"},"rtl"===c.direction?i.a.createElement(R.a,null):i.a.createElement(U.a,null)))}}]),t}(n.Component),K=Object(b.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(q),Q=Object(b.withStyles)(function(e){return{head:{backgroundColor:"#FF5722",color:e.palette.common.white},body:{fontSize:14}}})(N.a),V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={page:0,rowsPerPage:10},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.page,r=this.props,c=r.classes,o=r.items,l=r.columns,s=a-Math.min(a,o.length-n*a);return i.a.createElement(T.a,{className:c.root},i.a.createElement("div",{className:c.tableWrapper},i.a.createElement(P.a,{className:c.table},i.a.createElement(C.a,null,i.a.createElement(S.a,null,l.map(function(e,t){return i.a.createElement(Q,{key:t},e)}))),i.a.createElement(j.a,null,o.slice(n*a,n*a+a).map(function(t){return i.a.createElement(S.a,{key:t.id},t.id&&i.a.createElement(N.a,{component:"th",scope:"row"},t.id),t.fullname&&i.a.createElement(N.a,{align:"left"},t.fullname),t.birthDate&&i.a.createElement(N.a,{align:"left"},t.birthDate),t.gender&&i.a.createElement(N.a,{align:"left"},t.gender),t.fullname&&i.a.createElement(N.a,null,i.a.createElement(X.a,{color:"primary",size:"small",className:c.button,onClick:function(){return e.props.handleClick(t.id)}},"More information")),t.name&&i.a.createElement(N.a,{align:"left"},t.name),t.isAntibiotic&&i.a.createElement(N.a,{align:"left"},t.isAntibiotic))}),s>0&&i.a.createElement(S.a,{style:{height:48*s}},i.a.createElement(N.a,{colSpan:6}))),i.a.createElement(I.a,null,i.a.createElement(S.a,null,i.a.createElement(D.a,{rowsPerPageOptions:[10],count:o.length,rowsPerPage:a,page:n,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:K}))))))}}]),t}(n.Component),Y=Object(b.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:500},tableWrapper:{overflowX:"auto"},button:{margin:e.spacing.unit}}})(V),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).fetchPatients=function(){E.a.get("https://hapi.fhir.org/baseDstu3/Patient?_pretty=true&_count=50").then(function(e){for(var t=e.data.entry,n=[],i=0;i<t.length;i++){var r={id:"-",fullname:"-",birthDate:"-",gender:"-"};if(t[i].resource&&(t[i].resource.id&&(r.id=t[i].resource.id),t[i].resource.gender&&(r.gender=t[i].resource.gender),t[i].resource.birthDate&&(r.birthDate=t[i].resource.birthDate),t[i].resource.name&&t[i].resource.name.length>0)){var c="-";t[i].resource.name[0].family&&(c=t[i].resource.name[0].family),t[i].resource.name[0].given&&t[i].resource.name[0].given.length>0&&(c=c+" "+t[i].resource.name[0].given[0]),r.fullname=c}n.push(r)}a.setState({patients:n,filteredData:n})}).catch(function(e){console.log("Patients page error: "+e)})},a.handleClick=function(e){a.props.history.push({pathname:"/patient-details",state:{patientId:parseInt(e)}})},a.handleChange=function(e){var t=e.target.value;a.setState(function(e){var a=e.patients.filter(function(e){return e.id.startsWith(t)});return{searchText:t,filteredData:a}})},a.state={searchText:"",patients:[],filteredData:[]},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchPatients()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"page-container"},i.a.createElement("p",{className:"page-title"},i.a.createElement("i",{className:"icon fas fa-users"}),"Patients"),i.a.createElement("div",null,i.a.createElement("input",{className:"input-container",placeholder:"PATIENT ID",value:this.state.value,onChange:function(t){return e.handleChange(t)}}),i.a.createElement(Y,{items:this.state.filteredData,columns:["PATIENT ID","FULL NAME","BIRTHDATE","GENDER",""],handleClick:this.handleClick})))}}]),t}(n.Component),$=Object(l.d)(Z),ee=a(55),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).fetchEncounters=function(){E.a.get("https://hapi.fhir.org/baseDstu3/Encounter?_include=Encounter:patient&_pretty=true&patient=".concat(a.patientId)).then(function(e){var t=e.data,n="no encounters";t.reason&&t.reason.length>0&&t.reason[0].text&&(n=t.reason[0].text),a.setState(Object(ee.a)({},a.state,{encounters:n,isEncounters:!0}))}).catch(function(e){console.log("Patients page error: "+e)})},a.fetchCarePlan=function(){E.a.get("https://hapi.fhir.org/baseDstu3/CarePlan?_include=CarePlan:patient&_pretty=true&patient=".concat(a.patientId)).then(function(e){var t=e.data,n={};if(t.category&&t.category.length>0&&t.category.coding&&t.category.coding.length>0&&t.category.coding[0].display&&(n.category=t.category.coding[0].display),t.activity&&t.activity.length>0){n.activities=[];for(var i=0;i<t.activity.length;i++){var r=t.activity[i];r.detail&&r.detail.code&&r.detail.code.coding&&r.detail.code.coding.length>0&&r.detail.code.coding[0].display&&n.activities.push(r.detail.code.coding[0].display)}}a.setState(Object(ee.a)({},a.state,{carePlan:n,isCarePlan:!0}))}).catch(function(e){console.log("Patients page error: "+e)})},a.fetchAppointment=function(){E.a.get("https://hapi.fhir.org/baseDstu3/Appointment?_include=Appointment:patient&_pretty=true&patient=".concat(a.patientId)).then(function(e){var t=e.data,n={};if(t.description&&(n.description=t.description),t.participant&&t.participant.length>0){n.participants=[];for(var i=0;i<t.participant.length;i++){var r=t.participant[i];r.actor&&r.actor.display&&n.participants.push(r.actor.display)}}a.setState(Object(ee.a)({},a.state,{appointment:n,isAppointment:!0}))}).catch(function(e){console.log("Patients page error: "+e)})},a.displayCarePlan=function(){var e="no care plan";if(a.state.carePlan.category&&(e=a.state.carePlan.category),a.state.carePlan.activities&&a.state.carePlan.activities.length>0)for(var t=0;t<a.state.carePlan.activities.length;t++)e=e+"|"+a.state.carePlan.activities[t];return e},a.displayAppointment=function(){var e="no appointment";if(a.state.appointment.description&&(e=a.state.appointment.description),a.state.appointment.participants&&a.state.appointment.participants.length>0)for(var t=0;t<a.state.appointment.participants.length;t++)e=e+"|"+a.state.appointment.participants[t];return e},a.state={encounters:"",carePlan:"",appointment:"",isEncounters:!1,isCarePlan:!1,isAppointment:!1},a.props.history.location.state&&a.props.history.location.state.patientId?(a.patientId=a.props.history.location.state.patientId,localStorage.setItem("patientId",JSON.stringify(a.patientId))):a.patientId=localStorage.getItem("patientId"),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchEncounters(),this.fetchCarePlan(),this.fetchAppointment()}},{key:"render",value:function(){return i.a.createElement("div",{className:"page-container"},i.a.createElement("p",{className:"page-title"},i.a.createElement("i",{className:"icon fas fa-file-medical-alt"}),"Patient Details: "+this.patientId),this.state.isEncounters&&this.state.isCarePlan&&this.state.isAppointment&&i.a.createElement("div",{className:"details-container"},this.state.encounters&&i.a.createElement("p",null,"ENCOUNTERS: "+this.state.encounters),this.state.carePlan&&i.a.createElement("p",null,"CARE PLAN: "+this.displayCarePlan()),this.state.appointment&&i.a.createElement("p",null,"APPOINTMENT: "+this.displayAppointment())))}}]),t}(n.Component),ae=Object(l.d)(te),ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).fetchMedication=function(){E.a.get("https://hapi.fhir.org/baseDstu3/Medication?_pretty=true&_count=50").then(function(e){for(var t=e.data.entry,n=[],i=0;i<t.length;i++){var r={};if(t[i].resource&&(t[i].resource.id&&(r.id=t[i].resource.id),r.isAntibiotic="false",t[i].resource.extension&&t[i].resource.extension.length>0&&t[i].resource.extension[0].url&&"isAntibiotic"===t[i].resource.extension[0].url&&(r.isAntibiotic="true"),r.name="-",t[i].resource.code&&t[i].resource.code.coding.length>0)){var c=t[i].resource.code.coding.filter(function(e){return Object.keys(e).includes("display")});c.length>0&&(r.name=c[0].display)}n.push(r)}a.setState({medication:n})}).catch(function(e){console.log("Medication page error: "+e)})},a.state={medication:[]},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.fetchMedication()}},{key:"render",value:function(){return i.a.createElement("div",{className:"page-container"},i.a.createElement("p",{className:"page-title"},i.a.createElement("i",{className:"icon fas fa-capsules"}),"Medication"),i.a.createElement("div",null,i.a.createElement(Y,{items:this.state.medication,columns:["MEDICATION ID","NAME","ANTIBIOTIC"]})))}}]),t}(n.Component),ie=Object(l.d)(ne),re=i.a.createElement(o.a,null,i.a.createElement("div",null,i.a.createElement(l.a,{exact:!0,path:"/",component:g}),i.a.createElement(l.a,{path:"/patients",component:$}),i.a.createElement(l.a,{path:"/patient-details",component:ae}),i.a.createElement(l.a,{path:"/medication",component:ie})));c.a.render(re,document.getElementById("root"))},43:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.76e8303b.chunk.js.map